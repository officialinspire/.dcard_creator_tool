<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCARD Creator v2.0 - Digital Collectibles Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #070c1d;
            --bg-secondary: rgba(12, 18, 36, 0.75);
            --bg-tertiary: rgba(18, 27, 52, 0.85);
            --surface: rgba(255, 255, 255, 0.03);
            --shadow-light: #1b2847;
            --shadow-dark: #020510;
            --accent-primary: #6ddcff;
            --accent-secondary: #7f60f9;
            --accent-tertiary: #00ffb3;
            --text-primary: #f2f5ff;
            --text-secondary: #cad3eb;
            --text-light: #95a1c4;
            --gradient-1: linear-gradient(120deg, #7f60f9 0%, #6ddcff 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #6ddcff 0%, #7f60f9 100%);
            --gradient-4: linear-gradient(135deg, #00ffb3 0%, #6ddcff 100%);
            --gradient-glow: linear-gradient(135deg, rgba(109, 220, 255, 0.12) 0%, rgba(127, 96, 249, 0.14) 100%);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at 20% 20%, rgba(127, 96, 249, 0.15), transparent 30%),
                        radial-gradient(circle at 80% 10%, rgba(109, 220, 255, 0.18), transparent 28%),
                        radial-gradient(circle at 50% 80%, rgba(0, 255, 179, 0.12), transparent 32%),
                        #050915;
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.02) 25%, transparent 25%) -20px 0/ 40px 40px,
                        linear-gradient(225deg, rgba(255, 255, 255, 0.02) 25%, transparent 25%) -20px 0/ 40px 40px,
                        linear-gradient(315deg, rgba(255, 255, 255, 0.02) 25%, transparent 25%) 0px 0/ 40px 40px,
                        linear-gradient(45deg, rgba(255, 255, 255, 0.02) 25%, transparent 25%) 0px 0/ 40px 40px;
            pointer-events: none;
            z-index: 0;
            animation: pulse 10s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .container {
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
            padding: 50px 24px 80px;
            z-index: 1;
        }

        /* Modern Card */
        .neu-card {
            background: var(--bg-secondary);
            border-radius: 26px;
            padding: 38px;
            border: 1px solid rgba(255, 255, 255, 0.06);
            box-shadow:
                0 16px 60px rgba(0, 0, 0, 0.45),
                0 0 0 1px rgba(255, 255, 255, 0.04),
                0 30px 80px rgba(109, 220, 255, 0.08);
            margin-bottom: 30px;
            transition: all 0.35s ease;
            backdrop-filter: blur(14px);
            position: relative;
            overflow: hidden;
        }

        .neu-card::after {
            content: '';
            position: absolute;
            inset: 1px;
            border-radius: 24px;
            background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.04), transparent 40%),
                        radial-gradient(circle at 80% 0%, rgba(109, 220, 255, 0.12), transparent 35%);
            pointer-events: none;
            opacity: 0.7;
        }

        .neu-card:hover {
            border-color: rgba(109, 220, 255, 0.35);
            box-shadow:
                0 18px 70px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(109, 220, 255, 0.18),
                0 30px 90px rgba(127, 96, 249, 0.18);
            transform: translateY(-4px);
        }

        /* Inset Style */
        .neu-inset {
            background: var(--bg-primary);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.03);
            box-shadow:
                inset 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        /* Header */
        .header {
            position: relative;
            margin-bottom: 40px;
            padding: 26px 26px 30px;
            border-radius: 28px;
            overflow: hidden;
            background: linear-gradient(140deg, rgba(109, 220, 255, 0.1), rgba(127, 96, 249, 0.08));
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow:
                0 18px 60px rgba(0, 0, 0, 0.45),
                0 30px 80px rgba(127, 96, 249, 0.15);
        }

        .header::before,
        .header::after {
            content: '';
            position: absolute;
            width: 220px;
            height: 220px;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.5;
        }

        .header::before {
            background: #6ddcff;
            top: -90px;
            left: -40px;
        }

        .header::after {
            background: #7f60f9;
            bottom: -100px;
            right: -60px;
        }

        .header h1 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: clamp(32px, 5vw, 48px);
            font-weight: 700;
            background: linear-gradient(120deg, #ffffff, #7f60f9, #6ddcff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .header .tagline {
            font-size: 1.1em;
            color: var(--text-secondary);
            font-weight: 500;
            letter-spacing: 0.4px;
            max-width: 720px;
        }

        .header-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 18px 0 6px;
            align-items: center;
        }

        .chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 14px;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.95em;
        }

        .network-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 12px;
            padding: 12px 18px;
            background: rgba(12, 18, 36, 0.55);
            border-radius: 16px;
            border: 1px solid rgba(109, 220, 255, 0.35);
            box-shadow:
                0 8px 28px rgba(109, 220, 255, 0.18),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
            font-weight: 700;
            color: var(--text-primary);
            letter-spacing: 0.5px;
        }

        .network-badge .dot {
            width: 9px;
            height: 9px;
            background: var(--gradient-4);
            border-radius: 50%;
            animation: blink 2s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Immersive 3D Card Viewer */
        .viewer-shell {
            position: relative;
            margin-bottom: 32px;
            overflow: hidden;
        }

        .viewer-shell .section-title {
            margin-bottom: 12px;
        }

        .viewer-menu-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            background: linear-gradient(120deg, rgba(109, 220, 255, 0.08), rgba(127, 96, 249, 0.08));
            box-shadow:
                inset 0 1px 0 rgba(255, 255, 255, 0.04),
                0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .menu-cluster {
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-trigger {
            padding: 12px 14px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-weight: 700;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
            transition: all 0.2s ease;
        }

        .menu-trigger.active,
        .menu-trigger:hover {
            background: var(--gradient-3);
            color: white;
            border-color: transparent;
            box-shadow:
                0 10px 28px rgba(109, 220, 255, 0.3),
                0 0 25px rgba(127, 96, 249, 0.25);
        }

        .menu-popover {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            width: 320px;
            background: rgba(7, 12, 29, 0.96);
            border: 1px solid rgba(109, 220, 255, 0.35);
            border-radius: 16px;
            padding: 16px;
            box-shadow:
                0 20px 45px rgba(0, 0, 0, 0.55),
                0 0 30px rgba(109, 220, 255, 0.2);
            z-index: 4;
            display: none;
            gap: 12px;
            flex-direction: column;
        }

        .menu-popover.open {
            display: flex;
        }

        .menu-popover .control-row {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 12px;
            align-items: center;
        }

        .menu-popover label {
            font-size: 0.9em;
            color: var(--text-secondary);
        }

        .mini-range {
            accent-color: #6ddcff;
        }

        .viewer-stage {
            position: relative;
            padding: 26px 10px 16px;
            display: grid;
            grid-template-columns: 1fr;
            justify-items: center;
            gap: 18px;
        }

        .viewer-gradient {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 30% 10%, rgba(109, 220, 255, 0.15), transparent 30%),
                        radial-gradient(circle at 80% 0%, rgba(127, 96, 249, 0.22), transparent 32%),
                        radial-gradient(circle at 50% 85%, rgba(0, 255, 179, 0.18), transparent 28%);
            filter: blur(18px);
            opacity: 0.65;
            pointer-events: none;
        }

        .card-viewer {
            position: relative;
            width: min(360px, 90vw);
            height: min(520px, 130vw);
            transform-style: preserve-3d;
            transform: rotateX(var(--rotateX, -10deg)) rotateY(calc(var(--rotateY, 18deg) + var(--flip, 0deg))) translateZ(var(--depth, 0px));
            transition: transform 0.6s ease, filter 0.3s ease;
            perspective: 1800px;
            filter: drop-shadow(0 25px 45px rgba(0, 0, 0, 0.55)) drop-shadow(0 0 18px rgba(109, 220, 255, 0.4));
        }

        .card-viewer.auto-rotate {
            animation: slowSpin calc(var(--spinSpeed, 16s)) linear infinite;
        }

        @keyframes slowSpin {
            from { transform: rotateX(var(--rotateX, -10deg)) rotateY(calc(var(--rotateY, 18deg) + var(--flip, 0deg) + 0deg)) translateZ(var(--depth, 0px)); }
            to { transform: rotateX(var(--rotateX, -10deg)) rotateY(calc(var(--rotateY, 18deg) + var(--flip, 0deg) + 360deg)) translateZ(var(--depth, 0px)); }
        }

        .viewer-card-face {
            position: absolute;
            inset: 0;
            border-radius: 20px;
            overflow: hidden;
            backface-visibility: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));
            box-shadow:
                inset 0 1px 0 rgba(255, 255, 255, 0.08),
                0 12px 32px rgba(0, 0, 0, 0.35);
        }

        .viewer-card-face.back {
            transform: rotateY(180deg);
        }

        .viewer-card-face.back .viewer-card-content {
            transition: opacity 0.25s ease;
        }

        .viewer-card-face.back.has-image .viewer-card-content {
            opacity: 0;
        }

        .viewer-card-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: saturate(1.05);
        }

        .viewer-overlay-image {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            mix-blend-mode: screen;
            opacity: 0.65;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .viewer-overlay-image.specialty {
            mix-blend-mode: lighten;
            opacity: 0.8;
            filter: drop-shadow(0 8px 22px rgba(0, 0, 0, 0.25));
        }

        .viewer-branding img {
            background: rgba(0, 0, 0, 0.35);
            backdrop-filter: blur(6px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.12);
        }

        .viewer-brand-logo,
        .viewer-set-logo {
            position: absolute;
            border-radius: 14px;
            padding: 8px;
            max-width: 82px;
            max-height: 82px;
            object-fit: contain;
            pointer-events: none;
        }

        .viewer-brand-logo {
            top: 14px;
            right: 14px;
        }

        .viewer-set-logo {
            bottom: 14px;
            left: 14px;
        }

        .viewer-card-overlay {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.06), transparent 35%),
                        radial-gradient(circle at 80% 0%, rgba(109, 220, 255, 0.12), transparent 40%);
            mix-blend-mode: screen;
            opacity: var(--overlayAlpha, 0.35);
            pointer-events: none;
        }

        .viewer-card-shine {
            position: absolute;
            inset: -20%;
            background: linear-gradient(
                var(--shineAngle, 125deg),
                transparent 0%,
                rgba(255, 255, 255, 0.08) 42%,
                rgba(109, 220, 255, 0.35) 50%,
                transparent 58%
            );
            opacity: var(--shineAlpha, 0.45);
            transform: translateX(-30%);
            animation: shineSweep 12s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes shineSweep {
            0%, 10% { transform: translateX(-30%); opacity: 0.12; }
            40% { opacity: 0.45; }
            60%, 100% { transform: translateX(40%); opacity: 0.12; }
        }

        .viewer-card-content {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
            pointer-events: none;
        }

        .viewer-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 10px;
        }

        .viewer-badge {
            padding: 8px 12px;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.35);
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 0.85em;
            font-weight: 700;
            letter-spacing: 0.6px;
        }

        .viewer-card-title {
            font-size: 1.4em;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
        }

        .viewer-card-meta {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            font-size: 0.95em;
            color: var(--text-secondary);
        }

        .viewer-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
        }

        .viewer-brand {
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            font-weight: 700;
            letter-spacing: 0.6px;
        }

        .viewer-id {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            color: var(--accent-primary);
            text-shadow: 0 10px 30px rgba(109, 220, 255, 0.35);
        }

        .viewer-footer-bar {
            margin-top: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            flex-wrap: wrap;
        }

        .viewer-dots {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .viewer-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--gradient-3);
            box-shadow: 0 0 18px rgba(109, 220, 255, 0.5);
        }

        .viewer-readout {
            display: flex;
            gap: 14px;
            color: var(--text-secondary);
            font-size: 0.95em;
            align-items: center;
        }

        .viewer-readout strong {
            color: var(--text-primary);
        }

        @media (max-width: 768px) {
            .viewer-menu-bar {
                flex-direction: column;
                align-items: flex-start;
            }

            .menu-popover {
                position: relative;
                width: 100%;
                top: 0;
                left: 0;
                margin-top: 6px;
            }
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            flex-wrap: wrap;
            justify-content: center;
            padding: 12px 14px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 18px;
            border: 1px solid rgba(255, 255, 255, 0.06);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.35);
        }

        .tab-btn {
            padding: 14px 26px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 14px;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.95em;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            box-shadow:
                0 6px 16px rgba(0, 0, 0, 0.25);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: 0.6px;
            backdrop-filter: blur(6px);
        }

        .tab-btn:hover {
            transform: translateY(-2px);
            border-color: rgba(109, 220, 255, 0.45);
            box-shadow:
                0 10px 30px rgba(127, 96, 249, 0.2),
                0 0 22px rgba(109, 220, 255, 0.15);
            color: var(--text-primary);
        }

        .tab-btn.active {
            background: var(--gradient-1);
            color: white;
            border-color: transparent;
            box-shadow:
                0 12px 26px rgba(109, 220, 255, 0.35),
                0 18px 45px rgba(127, 96, 249, 0.22),
                inset 0 1px 0 rgba(255, 255, 255, 0.25);
        }

        /* Form Grid */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .section-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.6em;
            font-weight: 700;
            margin-bottom: 22px;
            color: var(--text-primary);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 10px 14px;
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .section-title::before {
            content: '';
            width: 8px;
            height: 26px;
            background: var(--gradient-3);
            border-radius: 10px;
            box-shadow: 0 0 24px rgba(109, 220, 255, 0.5);
        }

        /* Form Group */
        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: var(--text-primary);
            font-size: 1em;
            letter-spacing: 0.4px;
            text-transform: capitalize;
        }

        input, select, textarea {
            width: 100%;
            padding: 15px 18px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            font-size: 1.02em;
            font-weight: 600;
            box-shadow:
                inset 0 2px 6px rgba(0, 0, 0, 0.25),
                0 10px 25px rgba(0, 0, 0, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        input::placeholder, select::placeholder, textarea::placeholder {
            color: var(--text-light);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(109, 220, 255, 0.6);
            box-shadow:
                inset 0 2px 6px rgba(0, 0, 0, 0.25),
                0 0 0 3px rgba(109, 220, 255, 0.2),
                0 16px 36px rgba(127, 96, 249, 0.25);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* File Upload */
        .file-upload-wrapper {
            position: relative;
            margin-top: 10px;
        }

        .file-upload {
            width: 100%;
            padding: 36px 20px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
            border-radius: 16px;
            border: 1px dashed rgba(109, 220, 255, 0.4);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow:
                inset 0 2px 8px rgba(0, 0, 0, 0.2),
                0 16px 40px rgba(0, 0, 0, 0.25);
        }

        .file-upload:hover {
            border-color: rgba(127, 96, 249, 0.7);
            background: linear-gradient(145deg, rgba(109, 220, 255, 0.12), rgba(127, 96, 249, 0.12));
            box-shadow:
                inset 0 2px 8px rgba(0, 0, 0, 0.25),
                0 16px 36px rgba(109, 220, 255, 0.18);
        }

        .file-upload.has-file {
            border-color: rgba(0, 255, 179, 0.8);
            background: linear-gradient(145deg, rgba(0, 255, 179, 0.14), rgba(109, 220, 255, 0.12));
            box-shadow:
                inset 0 2px 8px rgba(0, 0, 0, 0.25),
                0 18px 42px rgba(0, 255, 179, 0.2);
        }

        .file-upload-icon {
            font-size: 3em;
            margin-bottom: 8px;
        }

        .file-upload-text {
            font-weight: 700;
            color: var(--text-secondary);
            font-size: 1.05em;
        }

        .preview-container {
            margin-top: 18px;
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow:
                0 14px 36px rgba(0, 0, 0, 0.35);
        }

        .preview {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Badges Section */
        .badge-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .badge-option {
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow:
                0 8px 18px rgba(0, 0, 0, 0.25);
        }

        .badge-option:hover {
            transform: scale(1.05);
            border-color: rgba(109, 220, 255, 0.4);
            box-shadow:
                0 14px 26px rgba(0, 0, 0, 0.35),
                0 0 20px rgba(109, 220, 255, 0.18);
        }

        .badge-option.selected {
            background: var(--gradient-4);
            color: white;
            border-color: transparent;
            box-shadow:
                0 14px 30px rgba(0, 255, 136, 0.35),
                0 0 30px rgba(0, 255, 136, 0.24),
                inset 0 1px 0 rgba(255, 255, 255, 0.25);
        }

        .badge-icon {
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        .badge-name {
            font-size: 0.9em;
            font-weight: 600;
        }

        /* Effects Panel */
        .effects-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 15px;
        }

        .effect-card {
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 14px;
            box-shadow:
                inset 0 2px 6px rgba(0, 0, 0, 0.25),
                0 12px 30px rgba(0, 0, 0, 0.25);
        }

        .effect-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--bg-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            cursor: pointer;
            box-shadow:
                inset 0 2px 4px rgba(0, 0, 0, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .toggle-switch.active {
            background: var(--gradient-4);
            border-color: transparent;
            box-shadow:
                0 0 20px rgba(0, 255, 136, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .toggle-switch.active::after {
            transform: translateX(30px);
        }

        /* Range Slider */
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: var(--bg-primary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            box-shadow:
                inset 0 2px 4px rgba(0, 0, 0, 0.3);
            outline: none;
            padding: 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: var(--gradient-3);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 
                0 0 10px rgba(0, 212, 255, 0.5),
                3px 3px 6px rgba(0, 0, 0, 0.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: var(--gradient-3);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 
                0 0 10px rgba(0, 212, 255, 0.5),
                3px 3px 6px rgba(0, 0, 0, 0.2);
        }

        .range-value {
            display: inline-block;
            min-width: 50px;
            text-align: right;
            font-weight: 700;
            color: var(--accent-primary);
        }

        /* Color Picker */
        input[type="color"] {
            width: 80px;
            height: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            box-shadow:
                0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        input[type="color"]:hover {
            border-color: rgba(0, 212, 255, 0.3);
            box-shadow:
                0 6px 16px rgba(0, 0, 0, 0.4),
                0 0 15px rgba(0, 212, 255, 0.1);
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 50px;
            flex-wrap: wrap;
        }

        button {
            padding: 18px 46px;
            border: none;
            border-radius: 14px;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.05em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.28s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: 0.6px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(6px);
        }

        .btn-primary {
            background: var(--gradient-1);
            color: white;
            box-shadow:
                0 12px 32px rgba(127, 96, 249, 0.25),
                0 0 30px rgba(109, 220, 255, 0.24),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-primary:hover {
            transform: translateY(-3px) scale(1.01);
            box-shadow:
                0 16px 40px rgba(127, 96, 249, 0.35),
                0 0 60px rgba(109, 220, 255, 0.32),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.03);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow:
                0 4px 16px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            border-color: rgba(109, 220, 255, 0.3);
            box-shadow:
                0 8px 24px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(109, 220, 255, 0.2);
        }

        /* Stats Panel */
        .stats-panel {
            margin-top: 40px;
            padding: 30px;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            box-shadow:
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.03);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: var(--bg-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            box-shadow:
                0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            border-color: rgba(0, 212, 255, 0.2);
            box-shadow:
                0 6px 16px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(0, 212, 255, 0.1);
        }

        .stat-value {
            font-size: 2em;
            font-weight: 700;
            background: var(--gradient-3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Success Message */
        .success-message {
            background: var(--gradient-4);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin-top: 30px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 600;
            box-shadow: 
                0 0 30px rgba(0, 255, 136, 0.4),
                8px 8px 16px var(--shadow-dark);
            animation: slideInUp 0.5s ease-out;
        }

        /* Badge Manager */
        .badge-manager {
            margin-top: 20px;
        }

        .badge-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .badge-chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--bg-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            font-weight: 600;
            box-shadow:
                0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .badge-chip:hover {
            border-color: rgba(0, 212, 255, 0.3);
            box-shadow:
                0 6px 16px rgba(0, 0, 0, 0.4),
                0 0 15px rgba(0, 212, 255, 0.1);
        }

        .badge-chip .remove {
            cursor: pointer;
            color: #ff4444;
            font-weight: 700;
            margin-left: 5px;
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5em;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .effects-grid {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }

        /* Tab Content */
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Footer */
        .footer {
            margin-top: 80px;
            padding: 40px 20px;
            background: var(--bg-secondary);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .footer-content {
            max-width: 1600px;
            margin: 0 auto;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .footer-logo {
            height: 60px;
            width: auto;
            opacity: 0.9;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.3));
        }

        .footer-logo:hover {
            opacity: 1;
            filter: drop-shadow(0 0 30px rgba(0, 212, 255, 0.5));
            transform: scale(1.05);
        }

        .footer-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            font-weight: 600;
            color: var(--text-secondary);
            letter-spacing: 1px;
            margin: 0;
        }

        .footer-copyright {
            font-size: 0.9em;
            color: var(--text-light);
            margin: 0;
        }

        @media (max-width: 768px) {
            .footer-logo {
                height: 45px;
            }
        }

        /* Preview Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            position: relative;
            background: var(--bg-secondary);
            margin: 3% auto;
            padding: 0;
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 24px;
            width: 90%;
            max-width: 900px;
            box-shadow:
                0 20px 60px rgba(0, 0, 0, 0.5),
                0 0 80px rgba(0, 212, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 30px 40px;
            background: var(--gradient-3);
            border-radius: 24px 24px 0 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2em;
            margin: 0;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-body {
            padding: 40px;
            max-height: 70vh;
            overflow-y: auto;
        }

        .preview-card {
            background: var(--bg-tertiary);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .preview-image-container {
            text-align: center;
            margin-bottom: 30px;
        }

        .preview-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(0, 212, 255, 0.2);
        }

        .preview-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .preview-detail-item {
            background: var(--bg-primary);
            padding: 15px 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .preview-detail-label {
            font-size: 0.9em;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .preview-detail-value {
            font-size: 1.2em;
            color: var(--text-primary);
            font-weight: 600;
        }

        .rarity-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 8px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.9em;
        }

        .rarity-common {
            background: linear-gradient(135deg, #7f8c8d, #95a5a6);
            color: white;
        }

        .rarity-uncommon {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .rarity-rare {
            background: linear-gradient(135deg, #2980b9, #3498db);
            color: white;
        }

        .rarity-epic {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
        }

        .rarity-legendary {
            background: linear-gradient(135deg, #f39c12, #f1c40f);
            color: white;
        }

        .rarity-mythic {
            background: linear-gradient(135deg, #e74c3c, #ff6b6b);
            color: white;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(231, 76, 60, 0.5); }
            50% { box-shadow: 0 0 20px rgba(231, 76, 60, 0.8); }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 35px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(0, 0, 0, 0.3);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .close-modal:hover,
        .close-modal:focus {
            background: rgba(255, 0, 0, 0.3);
            transform: rotate(90deg);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DCARD CREATOR SUITE</h1>
            <div class="tagline">Reimagined to mirror the Inspire Digital Card Viewer with adaptive, neon-glass styling across desktop, mobile, and iPhone.</div>
            <div class="header-meta">
                <span class="chip">Cross-platform ready</span>
                <span class="chip">Live previews & holographics</span>
                <span class="chip">Edition builder</span>
            </div>
            <div class="network-badge">
                <span class="dot"></span>
                INSPIRE NETWORK LIVE
                <span class="dot"></span>
            </div>
        </div>

        <div class="neu-card viewer-shell">
            <div class="viewer-menu-bar">
                <div>
                    <h2 class="section-title" style="margin: 0;">3D Card Viewer</h2>
                    <p style="color: var(--text-secondary); margin-top: 4px;">See your card evolve in real time with the same stylized viewer experience used in the Inspire toolkit.</p>
                </div>
                <div class="menu-cluster">
                    <button class="menu-trigger" data-target="viewMenu">üéõÔ∏è View Menu</button>
                    <div class="menu-popover" id="viewMenu">
                        <div class="control-row">
                            <label>Y Rotation</label>
                            <input id="viewerRotate" class="mini-range" type="range" min="-45" max="45" value="18">
                        </div>
                        <div class="control-row">
                            <label>X Tilt</label>
                            <input id="viewerTilt" class="mini-range" type="range" min="-25" max="15" value="-8">
                        </div>
                        <div class="control-row">
                            <label>Depth Boost</label>
                            <input id="viewerDepth" class="mini-range" type="range" min="0" max="60" value="28">
                        </div>
                    </div>
                </div>
                <div class="menu-cluster">
                    <button class="menu-trigger" data-target="lightMenu">üí° Lighting Menu</button>
                    <div class="menu-popover" id="lightMenu">
                        <div class="control-row">
                            <label>Glow / Bloom</label>
                            <input id="viewerGlow" class="mini-range" type="range" min="0" max="100" value="35">
                        </div>
                        <div class="control-row">
                            <label>Holo Shine</label>
                            <input id="viewerShine" class="mini-range" type="range" min="0" max="100" value="50">
                        </div>
                        <div class="control-row">
                            <label>Shine Angle</label>
                            <input id="viewerShineAngle" class="mini-range" type="range" min="60" max="160" value="125">
                        </div>
                    </div>
                </div>
            </div>

            <div class="viewer-stage">
                <div class="viewer-gradient"></div>
                <div class="card-viewer auto-rotate" id="cardViewer" style="--rotateX: -8deg; --rotateY: 18deg; --spinSpeed: 16s; --overlayAlpha: 0.35; --shineAlpha: 0.45;">
                    <div class="viewer-card-face front">
                        <img id="viewerFrontImage" class="viewer-card-image" src="inspire.png" alt="Front preview">
                        <img id="viewerHoloOverlayFront" class="viewer-overlay-image" alt="Holographic overlay preview" style="display: none;">
                        <img id="viewerSpecialtyOverlayFront" class="viewer-overlay-image specialty" alt="Specialty overlay preview" style="display: none;">
                        <div class="viewer-branding">
                            <img id="viewerBrandLogoFront" class="viewer-brand-logo" alt="Brand logo preview" style="display: none;">
                            <img id="viewerSetLogoFront" class="viewer-set-logo" alt="Set logo preview" style="display: none;">
                        </div>
                        <div class="viewer-card-overlay"></div>
                        <div class="viewer-card-shine"></div>
                        <div class="viewer-card-content">
                            <div class="viewer-card-header">
                                <span class="viewer-badge" id="viewerRarity">RARE</span>
                                <span class="viewer-id" id="viewerId">#0001</span>
                            </div>
                            <div>
                                <div class="viewer-card-title" id="viewerTitle">Preview Title</div>
                                <div class="viewer-card-meta" id="viewerMeta">Digital Collectible ¬∑ Inspire</div>
                            </div>
                            <div class="viewer-card-footer">
                                <span class="viewer-brand" id="viewerBrand">INSPIRE</span>
                                <span class="viewer-brand" id="viewerSet">GENESIS</span>
                            </div>
                        </div>
                    </div>
                    <div class="viewer-card-face back" id="viewerBackFace">
                        <img id="viewerBackImage" class="viewer-card-image" src="inspire.png" alt="Back preview">
                        <img id="viewerHoloOverlayBack" class="viewer-overlay-image" alt="Holographic overlay preview" style="display: none;">
                        <img id="viewerSpecialtyOverlayBack" class="viewer-overlay-image specialty" alt="Specialty overlay preview" style="display: none;">
                        <div class="viewer-branding">
                            <img id="viewerBrandLogoBack" class="viewer-brand-logo" alt="Brand logo preview" style="display: none;">
                            <img id="viewerSetLogoBack" class="viewer-set-logo" alt="Set logo preview" style="display: none;">
                        </div>
                        <div class="viewer-card-overlay"></div>
                        <div class="viewer-card-shine"></div>
                        <div class="viewer-card-content" style="justify-content: center; text-align: center;">
                            <div class="viewer-card-title" style="font-size: 1.1em;">Back Artwork Preview</div>
                            <div class="viewer-card-meta">Upload an optional back image to view the flip.</div>
                        </div>
                    </div>
                </div>
                <div class="viewer-footer-bar">
                    <div class="menu-cluster">
                        <button class="menu-trigger" data-target="styleMenu">üé® Style Menu</button>
                        <div class="menu-popover" id="styleMenu">
                            <div class="control-row">
                                <label>Overlay Strength</label>
                                <input id="viewerOverlay" class="mini-range" type="range" min="0" max="80" value="35">
                            </div>
                            <div class="control-row">
                                <label>Shine Sweep</label>
                                <input id="viewerShineAlpha" class="mini-range" type="range" min="0" max="100" value="45">
                            </div>
                            <div class="control-row">
                                <label>Front / Back Blend</label>
                                <input id="viewerFlip" class="mini-range" type="range" min="0" max="180" value="0">
                            </div>
                        </div>
                    </div>
                    <div class="menu-cluster">
                        <button class="menu-trigger" data-target="motionMenu">üõ∞Ô∏è Motion Menu</button>
                        <div class="menu-popover" id="motionMenu">
                            <div class="control-row">
                                <label>Auto Rotate</label>
                                <input id="viewerAutoSpin" type="checkbox" checked>
                            </div>
                            <div class="control-row">
                                <label>Auto Rotate Speed</label>
                                <input id="viewerSpinSpeed" class="mini-range" type="range" min="6" max="28" value="16">
                            </div>
                            <div class="control-row">
                                <label>Parallax Amount</label>
                                <input id="viewerParallax" class="mini-range" type="range" min="0" max="30" value="18">
                            </div>
                            <div class="control-row">
                                <label>Live Tracking</label>
                                <input id="viewerTracking" type="checkbox" checked>
                            </div>
                        </div>
                    </div>
                    <div class="viewer-dots">
                        <div class="viewer-dot"></div>
                        <div class="viewer-dot"></div>
                        <div class="viewer-dot"></div>
                    </div>
                    <div class="viewer-readout">
                        <span>Angles: <strong id="viewerAnglesReadout">-8¬∞ / 18¬∞</strong></span>
                        <span>Shine: <strong id="viewerShineReadout">45%</strong></span>
                        <span>Mode: <strong id="viewerModeReadout">Auto Spin</strong></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button class="tab-btn active" onclick="switchTab('metadata')">üé® Artwork Info</button>
            <button class="tab-btn" onclick="switchTab('assets')">üñºÔ∏è Visual Assets</button>
            <button class="tab-btn" onclick="switchTab('badges')">‚ú® Enhancements</button>
            <button class="tab-btn" onclick="switchTab('collectible')">üíé Edition Details</button>
            <button class="tab-btn" onclick="switchTab('advanced')">‚öôÔ∏è Advanced</button>
        </div>

        <!-- Metadata Tab -->
        <div id="metadata-tab" class="tab-content active">
            <div class="neu-card">
                <h2 class="section-title">Artwork Details</h2>
                <div class="form-grid">
                    <div>
                        <div class="form-group">
                            <label>Artwork Title *</label>
                            <input type="text" id="cardName">
                        </div>
                        <div class="form-group">
                            <label>Subtitle</label>
                            <input type="text" id="caption">
                        </div>
                        <div class="form-group">
                            <label>Artist Name</label>
                            <input type="text" id="artist">
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label>Collection Name</label>
                            <input type="text" id="setName">
                        </div>
                        <div class="form-group">
                            <label>Edition Number</label>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <input type="text" id="cardNumber" style="width: 50%;">
                                <span style="font-size: 1.5em; font-weight: 700;">/</span>
                                <input type="text" id="totalInSet" style="width: 50%;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Art Style</label>
                            <select id="category">
                                <option value="digital-art">Digital Art</option>
                                <option value="3d-render">3D Render</option>
                                <option value="photography">Photography</option>
                                <option value="abstract">Abstract</option>
                                <option value="portrait">Portrait</option>
                                <option value="landscape">Landscape</option>
                                <option value="generative">Generative</option>
                                <option value="mixed-media">Mixed Media</option>
                                <option value="pixel-art">Pixel Art</option>
                                <option value="vector">Vector Art</option>
                            </select>
                        </div>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Collectible Properties</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Rarity Tier</label>
                        <select id="rarity">
                            <option value="common">‚ö™ Common</option>
                            <option value="uncommon">üü¢ Uncommon</option>
                            <option value="rare">üîµ Rare</option>
                            <option value="epic">üü£ Epic</option>
                            <option value="legendary">üü† Legendary</option>
                            <option value="mythic">üî¥ Mythic</option>
                            <option value="one-of-one">üíé 1/1</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Asset Type</label>
                        <select id="cardType">
                            <option value="collectible">Digital Collectible</option>
                            <option value="art-piece">Art Piece</option>
                            <option value="limited-edition">Limited Edition</option>
                            <option value="exclusive">Exclusive Release</option>
                            <option value="commemorative">Commemorative</option>
                        </select>
                    </div>
                </div>

                <div class="form-grid" style="margin-top: 20px;">
                    <div class="form-group">
                        <label>Brand / Creator</label>
                        <select id="brand">
                            <option value="INSPIRE">INSPIRE</option>
                            <option value="iSmokeShop">iSmokeShop</option>
                            <option value="DANTES WORLD">DANTES WORLD</option>
                            <option value="Custom">Custom</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tags (comma separated)</label>
                        <input type="text" id="tags">
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Artwork Description</span>
                </h2>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="description"></textarea>
                </div>
                <div class="form-group">
                    <label>Story / Context</label>
                    <textarea id="flavorText"></textarea>
                </div>
            </div>
        </div>

        <!-- Assets Tab -->
        <div id="assets-tab" class="tab-content">
            <div class="neu-card">
                <h2 class="section-title">
                    <span style="background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Primary Artwork</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Front Artwork *</label>
                        <div class="file-upload-wrapper">
                            <div class="file-upload" id="frontUpload" onclick="document.getElementById('cardFront').click()">
                                <div class="file-upload-icon">üñºÔ∏è</div>
                                <div class="file-upload-text">Upload primary artwork</div>
                                <input type="file" id="cardFront" accept="image/*" style="display: none;">
                            </div>
                            <div class="preview-container" id="frontPreviewContainer" style="display: none;">
                                <img id="frontPreview" class="preview">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Back Artwork</label>
                        <div class="file-upload-wrapper">
                            <div class="file-upload" id="backUpload" onclick="document.getElementById('cardBack').click()">
                                <div class="file-upload-icon">üé¥</div>
                                <div class="file-upload-text">Upload back artwork</div>
                                <input type="file" id="cardBack" accept="image/*" style="display: none;">
                            </div>
                            <div class="preview-container" id="backPreviewContainer" style="display: none;">
                                <img id="backPreview" class="preview">
                            </div>
                        </div>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Premium Overlays & Branding</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Holographic Pattern</label>
                        <div class="file-upload-wrapper">
                            <div class="file-upload" id="holoUpload" onclick="document.getElementById('holographicPattern').click()">
                                <div class="file-upload-icon">‚ú®</div>
                                <div class="file-upload-text">Upload holographic overlay</div>
                                <input type="file" id="holographicPattern" accept="image/*" style="display: none;">
                            </div>
                            <div class="preview-container" id="holoPreviewContainer" style="display: none;">
                                <img id="holoPreview" class="preview">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Specialty Overlay</label>
                        <div class="file-upload-wrapper">
                            <div class="file-upload" id="specialtyUpload" onclick="document.getElementById('specialtyOverlay').click()">
                                <div class="file-upload-icon">üíé</div>
                                <div class="file-upload-text">Upload specialty overlay</div>
                                <input type="file" id="specialtyOverlay" accept="image/*" style="display: none;">
                            </div>
                            <div class="preview-container" id="specialtyPreviewContainer" style="display: none;">
                                <img id="specialtyPreview" class="preview">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Brand Logo</label>
                        <div class="file-upload-wrapper">
                            <div class="file-upload" id="brandLogoUpload" onclick="document.getElementById('brandLogo').click()">
                                <div class="file-upload-icon">üè∑Ô∏è</div>
                                <div class="file-upload-text">Upload brand logo</div>
                                <input type="file" id="brandLogo" accept="image/*" style="display: none;">
                            </div>
                            <div class="preview-container" id="brandLogoPreviewContainer" style="display: none;">
                                <img id="brandLogoPreview" class="preview">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Set Logo</label>
                        <div class="file-upload-wrapper">
                            <div class="file-upload" id="setLogoUpload" onclick="document.getElementById('setLogo').click()">
                                <div class="file-upload-icon">üéØ</div>
                                <div class="file-upload-text">Upload set logo</div>
                                <input type="file" id="setLogo" accept="image/*" style="display: none;">
                            </div>
                            <div class="preview-container" id="setLogoPreviewContainer" style="display: none;">
                                <img id="setLogoPreview" class="preview">
                            </div>
                        </div>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Audio</h2>
                <div class="form-group">
                    <label>Theme Music</label>
                    <div class="file-upload-wrapper">
                        <div class="file-upload" id="audioUpload" onclick="document.getElementById('audioTheme').click()">
                            <div class="file-upload-icon">üéµ</div>
                            <div class="file-upload-text">Upload theme audio</div>
                            <input type="file" id="audioTheme" accept="audio/*" style="display: none;">
                        </div>
                        <div id="audioPreviewContainer" style="display: none; margin-top: 15px;"></div>
                    </div>
                </div>

                <!-- Audio Settings -->
                <div id="audioSettings" style="display: none; margin-top: 20px;">
                    <h3 class="section-title" style="font-size: 1.3em; margin-bottom: 15px;">üéöÔ∏è Audio Settings</h3>

                    <div class="form-group">
                        <label>Volume: <span class="range-value" id="audioVolumeValue">80%</span></label>
                        <input type="range" id="audioVolume" min="0" max="100" step="5" value="80">
                    </div>

                    <div class="form-group">
                        <label>Fade In Duration (seconds): <span class="range-value" id="audioFadeInValue">2.0s</span></label>
                        <input type="range" id="audioFadeIn" min="0" max="10" step="0.5" value="2">
                    </div>

                    <div class="form-group">
                        <label>Fade Out Duration (seconds): <span class="range-value" id="audioFadeOutValue">2.0s</span></label>
                        <input type="range" id="audioFadeOut" min="0" max="10" step="0.5" value="2">
                    </div>

                    <div class="form-group">
                        <label>Start Time (seconds): <span class="range-value" id="audioStartTimeValue">0.0s</span></label>
                        <input type="range" id="audioStartTime" min="0" max="30" step="0.5" value="0">
                        <small style="color: var(--text-secondary); display: block; margin-top: 5px;">Start playback from this timestamp</small>
                    </div>

                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <div class="toggle-switch" id="audioLoopToggle" onclick="toggleEffect('audioLoop')"></div>
                            <span style="font-weight: 700;">Loop Audio</span>
                        </label>
                        <small style="color: var(--text-secondary); display: block; margin-top: 5px;">Continuously repeat the audio</small>
                    </div>

                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px;">
                            <div class="toggle-switch" id="audioAutoplayToggle" onclick="toggleEffect('audioAutoplay')"></div>
                            <span style="font-weight: 700;">Autoplay</span>
                        </label>
                        <small style="color: var(--text-secondary); display: block; margin-top: 5px;">Start playing automatically when card is viewed</small>
                    </div>

                    <div class="form-group">
                        <label>Instructions / Notes</label>
                        <textarea id="audioInstructions" rows="3" placeholder="Add any special instructions for audio playback (e.g., 'Play during card reveal animation', 'Sync with visual effects', etc.)" style="width: 100%; padding: 15px; background: var(--bg-primary); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 10px; color: var(--text-primary); font-family: inherit; resize: vertical;"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Badges & Effects Tab -->
        <div id="badges-tab" class="tab-content">
            <div class="neu-card">
                <h2 class="section-title">
                    <span style="background: var(--gradient-4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Visual Enhancements</span>
                </h2>
                <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 1.1em;">Add premium badges and emblems to enhance your collectible's visual appeal</p>
                <div class="badge-grid" id="badgeGrid"></div>

                <div class="badge-manager">
                    <h3 style="margin-top: 30px; margin-bottom: 15px; font-weight: 700; font-size: 1.3em; color: var(--text-primary);">Selected Enhancements</h3>
                    <div class="badge-list" id="selectedBadges">
                        <div style="color: var(--text-light); font-style: italic;">No enhancements added yet</div>
                    </div>
                </div>
            </div>

            <div class="neu-card">
                <h2 class="section-title">Visual Effects</h2>
                <div class="effects-grid">
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="glowToggle" onclick="toggleEffect('glow')"></div>
                            <label style="margin: 0; font-weight: 700;">Glow Effect</label>
                        </div>
                        <div id="glowControls" style="display: none;">
                            <div class="form-group">
                                <label>Color: <input type="color" id="glowColor" value="#00ff88"></label>
                            </div>
                            <div class="form-group">
                                <label>Intensity: <span class="range-value" id="glowIntensityValue">0.5</span></label>
                                <input type="range" id="glowIntensity" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="particleToggle" onclick="toggleEffect('particle')"></div>
                            <label style="margin: 0; font-weight: 700;">Particle Effects</label>
                        </div>
                        <div id="particleControls" style="display: none;">
                            <div class="form-group">
                                <label>Type</label>
                                <select id="particleType">
                                    <option value="sparkles">Sparkles</option>
                                    <option value="stars">Stars</option>
                                    <option value="embers">Embers</option>
                                    <option value="snow">Snow</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Color: <input type="color" id="particleColor" value="#ffffff"></label>
                            </div>
                            <div class="form-group">
                                <label>Count: <span class="range-value" id="particleCountValue">20</span></label>
                                <input type="range" id="particleCount" min="5" max="50" step="5" value="20">
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="borderToggle" onclick="toggleEffect('border')"></div>
                            <label style="margin: 0; font-weight: 700;">Border Effect</label>
                        </div>
                        <div id="borderControls" style="display: none;">
                            <div class="form-group">
                                <label>Style</label>
                                <select id="borderStyle">
                                    <option value="solid">Solid</option>
                                    <option value="gradient">Gradient</option>
                                    <option value="animated">Animated</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Color: <input type="color" id="borderColor" value="#00ff88"></label>
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="shadowToggle" onclick="toggleEffect('shadow')"></div>
                            <label style="margin: 0; font-weight: 700;">Shadow Effect</label>
                        </div>
                        <div id="shadowControls" style="display: none;">
                            <div class="form-group">
                                <label>Color: <input type="color" id="shadowColor" value="#000000"></label>
                            </div>
                            <div class="form-group">
                                <label>Blur: <span class="range-value" id="shadowBlurValue">20</span></label>
                                <input type="range" id="shadowBlur" min="0" max="50" step="5" value="20">
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="blurToggle" onclick="toggleEffect('blur')"></div>
                            <label style="margin: 0; font-weight: 700;">Motion Blur</label>
                        </div>
                        <div id="blurControls" style="display: none;">
                            <div class="form-group">
                                <label>Intensity: <span class="range-value" id="blurIntensityValue">2</span></label>
                                <input type="range" id="blurIntensity" min="0" max="10" step="1" value="2">
                            </div>
                            <div class="form-group">
                                <label>Direction</label>
                                <select id="blurDirection">
                                    <option value="horizontal">Horizontal</option>
                                    <option value="vertical">Vertical</option>
                                    <option value="radial">Radial</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="chromaticToggle" onclick="toggleEffect('chromatic')"></div>
                            <label style="margin: 0; font-weight: 700;">Chromatic Aberration</label>
                        </div>
                        <div id="chromaticControls" style="display: none;">
                            <div class="form-group">
                                <label>Offset: <span class="range-value" id="chromaticOffsetValue">3</span></label>
                                <input type="range" id="chromaticOffset" min="0" max="20" step="1" value="3">
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="vignetteToggle" onclick="toggleEffect('vignette')"></div>
                            <label style="margin: 0; font-weight: 700;">Vignette</label>
                        </div>
                        <div id="vignetteControls" style="display: none;">
                            <div class="form-group">
                                <label>Strength: <span class="range-value" id="vignetteStrengthValue">0.5</span></label>
                                <input type="range" id="vignetteStrength" min="0" max="1" step="0.1" value="0.5">
                            </div>
                            <div class="form-group">
                                <label>Size: <span class="range-value" id="vignetteSizeValue">0.7</span></label>
                                <input type="range" id="vignetteSize" min="0.1" max="1" step="0.1" value="0.7">
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="scanlinesToggle" onclick="toggleEffect('scanlines')"></div>
                            <label style="margin: 0; font-weight: 700;">Scanlines</label>
                        </div>
                        <div id="scanlinesControls" style="display: none;">
                            <div class="form-group">
                                <label>Density: <span class="range-value" id="scanlinesDensityValue">4</span></label>
                                <input type="range" id="scanlinesDensity" min="1" max="10" step="1" value="4">
                            </div>
                            <div class="form-group">
                                <label>Opacity: <span class="range-value" id="scanlinesOpacityValue">0.3</span></label>
                                <input type="range" id="scanlinesOpacity" min="0" max="1" step="0.1" value="0.3">
                            </div>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="bloomToggle" onclick="toggleEffect('bloom')"></div>
                            <label style="margin: 0; font-weight: 700;">Bloom Effect</label>
                        </div>
                        <div id="bloomControls" style="display: none;">
                            <div class="form-group">
                                <label>Threshold: <span class="range-value" id="bloomThresholdValue">0.8</span></label>
                                <input type="range" id="bloomThreshold" min="0" max="1" step="0.1" value="0.8">
                            </div>
                            <div class="form-group">
                                <label>Intensity: <span class="range-value" id="bloomIntensityValue">1.5</span></label>
                                <input type="range" id="bloomIntensity" min="0" max="3" step="0.1" value="1.5">
                            </div>
                        </div>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Color Grading</h2>
                <div class="effects-grid">
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Brightness: <span class="range-value" id="brightnessValue">1.0</span></label>
                            <input type="range" id="brightness" min="0.5" max="2" step="0.1" value="1.0">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Contrast: <span class="range-value" id="contrastValue">1.0</span></label>
                            <input type="range" id="contrast" min="0.5" max="2" step="0.1" value="1.0">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Saturation: <span class="range-value" id="saturationValue">1.0</span></label>
                            <input type="range" id="saturation" min="0" max="2" step="0.1" value="1.0">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Hue Shift: <span class="range-value" id="hueShiftValue">0</span></label>
                            <input type="range" id="hueShift" min="-180" max="180" step="10" value="0">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Tint Color: <input type="color" id="tintColor" value="#ffffff"></label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Tint Strength: <span class="range-value" id="tintStrengthValue">0</span></label>
                            <input type="range" id="tintStrength" min="0" max="1" step="0.1" value="0">
                        </div>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Holographic Settings</h2>
                <div class="effects-grid">
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch active" id="holoToggle" onclick="toggleEffect('holo')"></div>
                            <label style="margin: 0; font-weight: 700;">Holographic Effect</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Intensity: <span class="range-value" id="holoIntensityValue">0.7</span></label>
                            <input type="range" id="holoIntensity" min="0" max="1" step="0.1" value="0.7">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Pattern</label>
                            <select id="holoPattern">
                                <option value="rainbow">Rainbow</option>
                                <option value="metallic">Metallic</option>
                                <option value="cosmos">Cosmos</option>
                                <option value="diamond">Diamond</option>
                                <option value="prism">Prism</option>
                                <option value="aurora">Aurora</option>
                                <option value="neon">Neon</option>
                                <option value="crystalline">Crystalline</option>
                                <option value="custom">Custom (from upload)</option>
                            </select>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Speed: <span class="range-value" id="holoSpeedValue">1.0</span></label>
                            <input type="range" id="holoSpeed" min="0.5" max="2" step="0.1" value="1.0">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Angle: <span class="range-value" id="holoAngleValue">45</span>¬∞</label>
                            <input type="range" id="holoAngle" min="0" max="360" step="15" value="45">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Shift Range: <span class="range-value" id="holoShiftValue">30</span></label>
                            <input type="range" id="holoShift" min="0" max="100" step="5" value="30">
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Primary Color: <input type="color" id="holoPrimaryColor" value="#00d4ff"></label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Secondary Color: <input type="color" id="holoSecondaryColor" value="#ff00aa"></label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="holoLayeredToggle" onclick="toggleEffect('holoLayered')"></div>
                            <label style="margin: 0; font-weight: 700;">Multi-Layer Effect</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="form-group">
                            <label>Blend Mode</label>
                            <select id="holoBlendMode">
                                <option value="overlay">Overlay</option>
                                <option value="screen">Screen</option>
                                <option value="multiply">Multiply</option>
                                <option value="add">Additive</option>
                                <option value="color-dodge">Color Dodge</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Collectible Tab -->
        <div id="collectible-tab" class="tab-content">
            <div class="neu-card">
                <h2 class="section-title">
                    <span style="background: var(--gradient-2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Collectible Settings</span>
                </h2>

                <div class="effect-toggle" style="margin-bottom: 30px;">
                    <div class="toggle-switch" id="rewardToggle" onclick="toggleEffect('reward')"></div>
                    <label style="margin: 0; font-weight: 700; font-size: 1.2em;">Mark as Special Unlockable</label>
                </div>

                <div id="rewardControls" style="display: none;">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Unlockable For</label>
                            <input type="text" id="rewardFor">
                        </div>
                        <div class="form-group">
                            <label>Unlock Requirement</label>
                            <input type="text" id="unlockCondition">
                        </div>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Limited Edition Details</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>This Edition (#)</label>
                        <input type="number" id="mintNumber" min="1">
                    </div>
                    <div class="form-group">
                        <label>Total Editions</label>
                        <input type="number" id="totalMinted" min="1">
                    </div>
                    <div class="form-group">
                        <label>Release Date</label>
                        <input type="date" id="releaseDate">
                    </div>
                    <div class="form-group">
                        <label>Edition Type</label>
                        <select id="editionType">
                            <option value="standard">Standard Edition</option>
                            <option value="first-edition">First Edition</option>
                            <option value="special">Special Edition</option>
                            <option value="collectors">Collector's Edition</option>
                            <option value="promo">Promotional</option>
                            <option value="variant">Variant Edition</option>
                        </select>
                    </div>
                </div>

                <div class="neu-inset" style="margin-top: 25px; padding: 30px; background: linear-gradient(135deg, rgba(0, 212, 255, 0.05), rgba(0, 255, 136, 0.05));">
                    <p style="font-size: 1.1em; color: var(--text-secondary); text-align: center;">
                        <strong style="color: var(--text-primary); font-size: 1.2em;">Edition Number Preview</strong><br>
                        <span id="serialPreview" style="font-size: 2em; font-weight: 700; background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; display: block; margin-top: 10px;">#0001/0100</span>
                    </p>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Attributes & Traits</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Condition</label>
                        <select id="condition">
                            <option value="mint">Mint</option>
                            <option value="near-mint">Near Mint</option>
                            <option value="excellent">Excellent</option>
                            <option value="good">Good</option>
                            <option value="fair">Fair</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Grading Service</label>
                        <input type="text" id="gradingService" placeholder="e.g., PSA, BGS, CGC">
                    </div>
                    <div class="form-group">
                        <label>Grade Score</label>
                        <input type="text" id="gradeScore" placeholder="e.g., 9.5, 10">
                    </div>
                    <div class="form-group">
                        <label>Certificate Number</label>
                        <input type="text" id="certificateNumber">
                    </div>
                </div>

                <div class="form-group" style="margin-top: 20px;">
                    <label>Custom Attributes (one per line: Trait: Value)</label>
                    <textarea id="customAttributes" placeholder="Background: Blue&#10;Eyes: Green&#10;Accessory: Hat"></textarea>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Ownership & License</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>License Type</label>
                        <select id="licenseType">
                            <option value="all-rights-reserved">All Rights Reserved</option>
                            <option value="cc0">CC0 (Public Domain)</option>
                            <option value="cc-by">CC BY (Attribution)</option>
                            <option value="cc-by-sa">CC BY-SA (Attribution-ShareAlike)</option>
                            <option value="cc-by-nc">CC BY-NC (Non-Commercial)</option>
                            <option value="nft-license">NFT License</option>
                            <option value="custom">Custom License</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Commercial Rights</label>
                        <select id="commercialRights">
                            <option value="none">None</option>
                            <option value="personal">Personal Use Only</option>
                            <option value="limited">Limited Commercial</option>
                            <option value="full">Full Commercial Rights</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Original Owner</label>
                        <input type="text" id="originalOwner">
                    </div>
                    <div class="form-group">
                        <label>Current Owner</label>
                        <input type="text" id="currentOwner">
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Provenance & History</span>
                </h2>
                <div class="form-group">
                    <label>Blockchain Hash (if applicable)</label>
                    <input type="text" id="blockchainHash" placeholder="0x...">
                </div>
                <div class="form-group">
                    <label>Smart Contract Address</label>
                    <input type="text" id="contractAddress" placeholder="0x...">
                </div>
                <div class="form-group">
                    <label>Token ID</label>
                    <input type="text" id="tokenId">
                </div>
                <div class="form-group">
                    <label>Provenance Notes</label>
                    <textarea id="provenanceNotes" placeholder="History of ownership, exhibitions, publications, etc."></textarea>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Certification & Verification</span>
                </h2>
                <div class="effects-grid">
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="certifiedToggle" onclick="toggleEffect('certified')"></div>
                            <label style="margin: 0; font-weight: 700;">Certified Authentic</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="verifiedToggle" onclick="toggleEffect('verified')"></div>
                            <label style="margin: 0; font-weight: 700;">Artist Verified</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="limitedToggle" onclick="toggleEffect('limited')"></div>
                            <label style="margin: 0; font-weight: 700;">Limited Edition Badge</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="exclusiveToggle" onclick="toggleEffect('exclusive')"></div>
                            <label style="margin: 0; font-weight: 700;">Exclusive Release</label>
                        </div>
                    </div>
                </div>

                <div class="form-grid" style="margin-top: 20px;">
                    <div class="form-group">
                        <label>Certification Authority</label>
                        <input type="text" id="certAuthority" placeholder="e.g., INSPIRE Network, Artist Studio">
                    </div>
                    <div class="form-group">
                        <label>Certification Date</label>
                        <input type="date" id="certDate">
                    </div>
                </div>
            </div>
        </div>

        <!-- Advanced Tab -->
        <div id="advanced-tab" class="tab-content">
            <div class="neu-card">
                <h2 class="section-title">Animation Settings</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Rotation Speed: <span class="range-value" id="rotSpeedValue">0.008</span></label>
                        <input type="range" id="rotationSpeed" min="0" max="0.02" step="0.001" value="0.008">
                    </div>
                    <div class="form-group">
                        <label>Float Range: <span class="range-value" id="floatRangeValue">0.1</span></label>
                        <input type="range" id="floatRange" min="0" max="0.3" step="0.05" value="0.1">
                    </div>
                    <div class="form-group">
                        <label>Pulse Speed: <span class="range-value" id="pulseSpeedValue">1.0</span></label>
                        <input type="range" id="pulseSpeed" min="0.1" max="3" step="0.1" value="1.0">
                    </div>
                    <div class="form-group">
                        <label>Animation Easing</label>
                        <select id="animationEasing">
                            <option value="linear">Linear</option>
                            <option value="ease-in">Ease In</option>
                            <option value="ease-out">Ease Out</option>
                            <option value="ease-in-out" selected>Ease In-Out</option>
                            <option value="bounce">Bounce</option>
                            <option value="elastic">Elastic</option>
                        </select>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">
                    <span style="background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Advanced Animations</span>
                </h2>
                <div class="effects-grid">
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch active" id="floatToggle" onclick="toggleEffect('float')"></div>
                            <label style="margin: 0; font-weight: 700;">Float Animation</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="pulseToggle" onclick="toggleEffect('pulse')"></div>
                            <label style="margin: 0; font-weight: 700;">Pulse Animation</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="bounceToggle" onclick="toggleEffect('bounce')"></div>
                            <label style="margin: 0; font-weight: 700;">Bounce Effect</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="spinToggle" onclick="toggleEffect('spin')"></div>
                            <label style="margin: 0; font-weight: 700;">Continuous Spin</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="wobbleToggle" onclick="toggleEffect('wobble')"></div>
                            <label style="margin: 0; font-weight: 700;">Wobble Effect</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="flipToggle" onclick="toggleEffect('flip')"></div>
                            <label style="margin: 0; font-weight: 700;">Card Flip</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="shakeToggle" onclick="toggleEffect('shake')"></div>
                            <label style="margin: 0; font-weight: 700;">Shake Effect</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="swingToggle" onclick="toggleEffect('swing')"></div>
                            <label style="margin: 0; font-weight: 700;">Swing Animation</label>
                        </div>
                    </div>
                </div>

                <div id="spinControls" style="display: none; margin-top: 20px;">
                    <div class="form-group">
                        <label>Spin Duration (seconds): <span class="range-value" id="spinDurationValue">2</span></label>
                        <input type="range" id="spinDuration" min="0.5" max="10" step="0.5" value="2">
                    </div>
                </div>

                <div id="wobbleControls" style="display: none; margin-top: 20px;">
                    <div class="form-group">
                        <label>Wobble Intensity: <span class="range-value" id="wobbleIntensityValue">5</span></label>
                        <input type="range" id="wobbleIntensity" min="1" max="20" step="1" value="5">
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">Lighting</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Ambient Light: <span class="range-value" id="ambientValue">0.4</span></label>
                        <input type="range" id="ambientLight" min="0" max="1" step="0.1" value="0.4">
                    </div>
                    <div class="form-group">
                        <label>Directional Light: <span class="range-value" id="directionalValue">0.8</span></label>
                        <input type="range" id="directionalLight" min="0" max="1" step="0.1" value="0.8">
                    </div>
                    <div class="form-group">
                        <label>Specular Light: <span class="range-value" id="specularValue">1.0</span></label>
                        <input type="range" id="specularLight" min="0" max="2" step="0.1" value="1.0">
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">
                    <span style="background: var(--gradient-1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Creator Information</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Creator ID / Username</label>
                        <input type="text" id="creator">
                    </div>
                    <div class="form-group">
                        <label>Network</label>
                        <select id="network">
                            <option value="INSPIRE">INSPIRE Network</option>
                            <option value="iSmokeShop">iSmokeShop</option>
                            <option value="DANTES">DANTES WORLD</option>
                        </select>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Rendering & Performance</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Rendering Quality</label>
                        <select id="renderQuality">
                            <option value="low">Low (Faster)</option>
                            <option value="medium">Medium</option>
                            <option value="high" selected>High</option>
                            <option value="ultra">Ultra (Best Quality)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Texture Resolution</label>
                        <select id="textureResolution">
                            <option value="512">512x512</option>
                            <option value="1024">1024x1024</option>
                            <option value="2048" selected>2048x2048</option>
                            <option value="4096">4096x4096</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Anti-Aliasing</label>
                        <select id="antiAliasing">
                            <option value="none">None</option>
                            <option value="fxaa">FXAA</option>
                            <option value="msaa-2x">MSAA 2x</option>
                            <option value="msaa-4x" selected>MSAA 4x</option>
                            <option value="msaa-8x">MSAA 8x</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Shadow Quality</label>
                        <select id="shadowQuality">
                            <option value="off">Off</option>
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Max FPS</label>
                        <select id="maxFps">
                            <option value="30">30 FPS</option>
                            <option value="60" selected>60 FPS</option>
                            <option value="120">120 FPS</option>
                            <option value="unlimited">Unlimited</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>V-Sync</label>
                        <select id="vsync">
                            <option value="off">Off</option>
                            <option value="on" selected>On</option>
                            <option value="adaptive">Adaptive</option>
                        </select>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 30px;">
                    <span style="background: var(--gradient-4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Export & Compression</span>
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Image Compression</label>
                        <select id="imageCompression">
                            <option value="none">None (Best Quality)</option>
                            <option value="low">Low Compression</option>
                            <option value="medium" selected>Medium Compression</option>
                            <option value="high">High Compression</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Export Format</label>
                        <select id="exportFormat">
                            <option value="dcard" selected>.dcard (Native)</option>
                            <option value="json">JSON</option>
                            <option value="binary">Binary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Metadata Embedding</label>
                        <select id="metadataEmbed">
                            <option value="full" selected>Full Metadata</option>
                            <option value="minimal">Minimal</option>
                            <option value="none">None</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Asset Optimization</label>
                        <select id="assetOptimization">
                            <option value="none">None</option>
                            <option value="standard" selected>Standard</option>
                            <option value="aggressive">Aggressive</option>
                        </select>
                    </div>
                </div>

                <div class="effects-grid" style="margin-top: 20px;">
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch active" id="embedAssetsToggle" onclick="toggleEffect('embedAssets')"></div>
                            <label style="margin: 0; font-weight: 700;">Embed All Assets</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="generateThumbnailToggle" onclick="toggleEffect('generateThumbnail')"></div>
                            <label style="margin: 0; font-weight: 700;">Auto-Generate Thumbnail</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch active" id="includeMetadataToggle" onclick="toggleEffect('includeMetadata')"></div>
                            <label style="margin: 0; font-weight: 700;">Include Metadata</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="watermarkToggle" onclick="toggleEffect('watermark')"></div>
                            <label style="margin: 0; font-weight: 700;">Add Watermark</label>
                        </div>
                    </div>
                </div>

                <h2 class="section-title" style="margin-top: 40px;">
                    <span style="background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Advanced Features</span>
                </h2>
                <div class="effects-grid">
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="debugModeToggle" onclick="toggleEffect('debugMode')"></div>
                            <label style="margin: 0; font-weight: 700;">Debug Mode</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="performanceMonitorToggle" onclick="toggleEffect('performanceMonitor')"></div>
                            <label style="margin: 0; font-weight: 700;">Performance Monitor</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="autoSaveToggle" onclick="toggleEffect('autoSave')"></div>
                            <label style="margin: 0; font-weight: 700;">Auto-Save</label>
                        </div>
                    </div>
                    <div class="effect-card">
                        <div class="effect-toggle">
                            <div class="toggle-switch" id="versionControlToggle" onclick="toggleEffect('versionControl')"></div>
                            <label style="margin: 0; font-weight: 700;">Version Control</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Panel -->
        <div class="stats-panel" id="statsPanel" style="display: none;">
            <h2 class="section-title">üìä Card Statistics</h2>
            <div class="stats-grid" id="statsGrid"></div>
        </div>

        <!-- Action Buttons -->
        <div class="button-group">
            <button class="btn-secondary" onclick="previewCard()" style="background: var(--gradient-4); color: white;">üëÅÔ∏è Preview Card</button>
            <button class="btn-primary" onclick="createCard()">üöÄ Create DCARD</button>
            <button class="btn-secondary" onclick="loadCard()">üìÇ Load DCARD</button>
            <button class="btn-secondary" onclick="resetForm()">üîÑ Reset</button>
        </div>

        <input type="file" id="loadFile" accept=".dcard,.zip" style="display: none;">
        <div id="successMessage"></div>
    </div>

    <!-- Preview Modal -->
    <div id="previewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close-modal" onclick="closePreview()">&times;</span>
                <h2>üé¥ Card Preview</h2>
            </div>
            <div class="modal-body">
                <div class="preview-card">
                    <div class="preview-image-container">
                        <img id="previewImage" class="preview-image" src="" alt="Card Preview">
                    </div>
                    <div class="preview-details" id="previewDetails">
                        <!-- Details will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <img src="inspire.png" alt="INSPIRE Logo" class="footer-logo">
            <p class="footer-text">Powered by INSPIRE Network</p>
            <p class="footer-copyright">&copy; 2024 INSPIRE. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="DCard-v2.js"></script>
    <script>
        const dcard = new DCard();
        let selectedBadges = [];


        const viewerState = {
            rotateX: -8,
            rotateY: 18,
            depth: 28,
            overlay: 0.35,
            shine: 0.45,
            shineAngle: 125,
            glow: 35,
            flip: 0,
            autoSpin: true,
            spinSpeed: 16,
            parallax: 18,
            tracking: true
        };

        function applyViewerState() {
            const card = document.getElementById('cardViewer');
            if (!card) return;

            card.style.setProperty('--rotateX', `${viewerState.rotateX}deg`);
            card.style.setProperty('--rotateY', `${viewerState.rotateY}deg`);
            card.style.setProperty('--depth', `${viewerState.depth}px`);
            card.style.setProperty('--overlayAlpha', viewerState.overlay);
            card.style.setProperty('--shineAlpha', viewerState.shine);
            card.style.setProperty('--shineAngle', `${viewerState.shineAngle}deg`);
            card.style.setProperty('--flip', `${viewerState.flip}deg`);
            card.style.setProperty('--spinSpeed', `${viewerState.spinSpeed}s`);
            card.style.filter = `drop-shadow(0 25px 45px rgba(0, 0, 0, 0.55)) drop-shadow(0 0 ${12 + (viewerState.glow / 12)}px rgba(109, 220, 255, 0.45))`;
            card.classList.toggle('auto-rotate', viewerState.autoSpin);

            const angles = document.getElementById('viewerAnglesReadout');
            const shineReadout = document.getElementById('viewerShineReadout');
            const modeReadout = document.getElementById('viewerModeReadout');
            if (angles) angles.textContent = `${Math.round(viewerState.rotateX)}¬∞ / ${Math.round(viewerState.rotateY)}¬∞`;
            if (shineReadout) shineReadout.textContent = `${Math.round(viewerState.shine * 100)}%`;
            if (modeReadout) modeReadout.textContent = viewerState.autoSpin ? 'Auto Spin' : 'Manual Tilt';
        }

        function toggleMenus(targetId, trigger) {
            document.querySelectorAll('.menu-popover').forEach(pop => {
                if (pop.id !== targetId) pop.classList.remove('open');
            });
            document.querySelectorAll('.menu-trigger').forEach(btn => {
                if (btn !== trigger) btn.classList.remove('active');
            });

            const panel = document.getElementById(targetId);
            if (panel) {
                const shouldOpen = !panel.classList.contains('open');
                panel.classList.toggle('open', shouldOpen);
                if (shouldOpen && trigger) trigger.classList.add('active');
            }
        }

        function closeMenus() {
            document.querySelectorAll('.menu-popover').forEach(pop => pop.classList.remove('open'));
            document.querySelectorAll('.menu-trigger').forEach(btn => btn.classList.remove('active'));
        }

        function setPreviewLayer(id, src) {
            const target = document.getElementById(id);
            if (!target) return;

            if (src) {
                target.src = src;
                target.style.display = 'block';
            } else {
                target.style.display = 'none';
            }
        }

        function updateCardViewerFace(face, src) {
            if (!src) return;
            const isBack = face === 'back';
            const target = document.getElementById(isBack ? 'viewerBackImage' : 'viewerFrontImage');
            if (target) {
                target.src = src;
                target.style.display = 'block';
            }

            if (isBack) {
                const backFace = document.getElementById('viewerBackFace');
                if (backFace) backFace.classList.add('has-image');
            }
        }

        function updateViewerOverlay(type, src) {
            const targets = type === 'specialty'
                ? ['viewerSpecialtyOverlayFront', 'viewerSpecialtyOverlayBack']
                : ['viewerHoloOverlayFront', 'viewerHoloOverlayBack'];

            targets.forEach(id => setPreviewLayer(id, src));
        }

        function updateViewerBranding(type, src) {
            const targets = type === 'brand'
                ? ['viewerBrandLogoFront', 'viewerBrandLogoBack']
                : ['viewerSetLogoFront', 'viewerSetLogoBack'];

            targets.forEach(id => setPreviewLayer(id, src));
        }

        function updateViewerText() {
            const title = document.getElementById('cardName')?.value || 'Preview Title';
            const brand = document.getElementById('brand')?.value || 'INSPIRE';
            const set = document.getElementById('setName')?.value || 'GENESIS';
            const rarity = document.getElementById('rarity')?.value || 'rare';
            const type = document.getElementById('cardType')?.value || 'collectible';
            const category = document.getElementById('category')?.value || 'digital-art';
            const mint = document.getElementById('mintNumber')?.value || '1';

            const titleNode = document.getElementById('viewerTitle');
            const brandNode = document.getElementById('viewerBrand');
            const setNode = document.getElementById('viewerSet');
            const rarityNode = document.getElementById('viewerRarity');
            const metaNode = document.getElementById('viewerMeta');
            const idNode = document.getElementById('viewerId');

            if (titleNode) titleNode.textContent = title;
            if (brandNode) brandNode.textContent = brand;
            if (setNode) setNode.textContent = set || 'GENESIS';
            if (rarityNode) rarityNode.textContent = rarity.toUpperCase();
            if (metaNode) metaNode.textContent = `${type} ¬∑ ${category}`;
            if (idNode) idNode.textContent = `#${String(mint).padStart(4, '0')}`;
        }

        function handleParallax(event) {
            if (!viewerState.tracking) return;
            const card = document.getElementById('cardViewer');
            if (!card) return;
            const rect = card.getBoundingClientRect();
            const relX = (event.clientX - rect.left) / rect.width - 0.5;
            const relY = (event.clientY - rect.top) / rect.height - 0.5;
            const tiltX = viewerState.rotateX - relY * (viewerState.parallax / 2);
            const tiltY = viewerState.rotateY + relX * (viewerState.parallax / 2);
            card.style.setProperty('--rotateX', `${tiltX}deg`);
            card.style.setProperty('--rotateY', `${tiltY}deg`);

            const angles = document.getElementById('viewerAnglesReadout');
            if (angles) angles.textContent = `${Math.round(tiltX)}¬∞ / ${Math.round(tiltY)}¬∞`;
        }

        function initCardViewer() {
            document.querySelectorAll('.menu-trigger').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    toggleMenus(btn.dataset.target, btn);
                });
            });

            document.addEventListener('click', (e) => {
                if (!e.target.closest('.menu-popover') && !e.target.closest('.menu-trigger')) {
                    closeMenus();
                }
            });

            const stage = document.querySelector('.viewer-stage');
            if (stage) {
                stage.addEventListener('mousemove', handleParallax);
                stage.addEventListener('mouseleave', applyViewerState);
            }

            const linkRange = (id, cb) => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('input', () => cb(el.value));
                }
            };

            linkRange('viewerRotate', val => { viewerState.rotateY = parseFloat(val); applyViewerState(); });
            linkRange('viewerTilt', val => { viewerState.rotateX = parseFloat(val); applyViewerState(); });
            linkRange('viewerDepth', val => { viewerState.depth = parseFloat(val); applyViewerState(); });
            linkRange('viewerGlow', val => { viewerState.glow = parseFloat(val); applyViewerState(); });
            linkRange('viewerShine', val => { viewerState.shine = parseFloat(val) / 100; applyViewerState(); });
            linkRange('viewerShineAngle', val => { viewerState.shineAngle = parseFloat(val); applyViewerState(); });
            linkRange('viewerOverlay', val => { viewerState.overlay = parseFloat(val) / 100; applyViewerState(); });
            linkRange('viewerShineAlpha', val => { viewerState.shine = parseFloat(val) / 100; applyViewerState(); });
            linkRange('viewerFlip', val => { viewerState.flip = parseFloat(val); applyViewerState(); });
            linkRange('viewerSpinSpeed', val => { viewerState.spinSpeed = parseFloat(val); applyViewerState(); });
            linkRange('viewerParallax', val => { viewerState.parallax = parseFloat(val); });

            const trackingToggle = document.getElementById('viewerTracking');
            if (trackingToggle) {
                trackingToggle.addEventListener('change', () => {
                    viewerState.tracking = trackingToggle.checked;
                    applyViewerState();
                });
            }

            const autoSpinToggle = document.getElementById('viewerAutoSpin');
            if (autoSpinToggle) {
                autoSpinToggle.addEventListener('change', () => {
                    viewerState.autoSpin = autoSpinToggle.checked;
                    applyViewerState();
                });
            }

            ['cardName', 'brand', 'setName', 'rarity', 'cardType', 'category', 'mintNumber'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.addEventListener('input', updateViewerText);
            });

            updateViewerText();
            applyViewerState();
        }

        // Initialize badge grid
        function initBadgeGrid() {
            const grid = document.getElementById('badgeGrid');
            Object.entries(dcard.badgePresets).forEach(([key, badge]) => {
                const option = document.createElement('div');
                option.className = 'badge-option';
                option.innerHTML = `
                    <div class="badge-icon">${badge.icon}</div>
                    <div class="badge-name">${badge.name}</div>
                `;
                option.onclick = () => addBadge(key, badge);
                grid.appendChild(option);
            });
        }

        // Add badge
        function addBadge(type, preset) {
            const badge = {
                type: type,
                position: 'top-right',
                number: selectedBadges.length + 1,
                color: preset.colors[0]
            };
            selectedBadges.push(badge);
            updateBadgeList();
        }

        // Update badge list
        function updateBadgeList() {
            const container = document.getElementById('selectedBadges');
            if (selectedBadges.length === 0) {
                container.innerHTML = '<div style="color: var(--text-light); font-style: italic;">No badges added yet</div>';
                return;
            }
            
            container.innerHTML = selectedBadges.map((badge, index) => {
                const preset = dcard.badgePresets[badge.type];
                return `
                    <div class="badge-chip">
                        <span>${preset.icon}</span>
                        <span>${preset.name}</span>
                        <span class="remove" onclick="removeBadge(${index})">‚úï</span>
                    </div>
                `;
            }).join('');
        }

        // Remove badge
        function removeBadge(index) {
            selectedBadges.splice(index, 1);
            updateBadgeList();
        }

        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            
            document.getElementById(tab + '-tab').classList.add('active');
            event.target.classList.add('active');
        }

        // Toggle effects
        function toggleEffect(effect) {
            const toggle = document.getElementById(effect + 'Toggle');
            const controls = document.getElementById(effect + 'Controls');
            
            toggle.classList.toggle('active');
            if (controls) {
                controls.style.display = toggle.classList.contains('active') ? 'block' : 'none';
            }
        }

        // Image upload handlers
        function setupFileUpload(inputId, previewId, uploadId, onPreview) {
            const input = document.getElementById(inputId);
            const preview = document.getElementById(previewId);
            const upload = document.getElementById(uploadId);
            const container = document.getElementById(previewId + 'Container');

            input.addEventListener('change', (e) => {
                if (e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (e2) => {
                        preview.src = e2.target.result;
                        container.style.display = 'block';
                        upload.classList.add('has-file');
                        if (typeof onPreview === 'function') {
                            onPreview(e2.target.result);
                        }
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
        }

        // Audio upload
        document.getElementById('audioTheme').addEventListener('change', (e) => {
            if (e.target.files[0]) {
                const container = document.getElementById('audioPreviewContainer');
                container.innerHTML = `
                    <audio controls style="width: 100%; border-radius: 10px;">
                        <source src="${URL.createObjectURL(e.target.files[0])}" type="${e.target.files[0].type}">
                    </audio>
                `;
                container.style.display = 'block';
                document.getElementById('audioUpload').classList.add('has-file');

                // Show audio settings
                document.getElementById('audioSettings').style.display = 'block';
            }
        });

        // Range value updates
        function setupRangeInput(id, valueId) {
            const input = document.getElementById(id);
            const valueSpan = document.getElementById(valueId);
            if (input && valueSpan) {
                input.addEventListener('input', () => {
                    valueSpan.textContent = input.value;
                });
            }
        }

        // Mint number preview
        function updateSerialPreview() {
            const mint = document.getElementById('mintNumber').value || 1;
            const total = document.getElementById('totalMinted').value || 100;
            document.getElementById('serialPreview').textContent = 
                `#${String(mint).padStart(4, '0')}/${String(total).padStart(4, '0')}`;
        }

        document.getElementById('mintNumber').addEventListener('input', updateSerialPreview);
        document.getElementById('totalMinted').addEventListener('input', updateSerialPreview);

        // Create card
        async function createCard() {
            const cardName = document.getElementById('cardName').value;
            if (!cardName) {
                alert('Please enter a card name!');
                return;
            }

            const frontFile = document.getElementById('cardFront').files[0];
            if (!frontFile) {
                alert('Please upload a front card image!');
                return;
            }

            try {
                // Gather options
                const options = {
                    name: cardName,
                    caption: document.getElementById('caption').value,
                    brand: document.getElementById('brand').value,
                    set: document.getElementById('setName').value,
                    cardNumber: document.getElementById('cardNumber').value || '1',
                    totalInSet: document.getElementById('totalInSet').value || '1',
                    category: document.getElementById('category').value,
                    rarity: document.getElementById('rarity').value,
                    type: document.getElementById('cardType').value,
                    description: document.getElementById('description').value,
                    flavorText: document.getElementById('flavorText').value,
                    tags: document.getElementById('tags').value.split(',').map(t => t.trim()).filter(t => t),
                    artist: document.getElementById('artist').value,
                    creator: document.getElementById('creator').value,
                    network: document.getElementById('network').value,

                    // Collectible
                    isReward: document.getElementById('rewardToggle').classList.contains('active'),
                    rewardFor: document.getElementById('rewardFor').value,
                    unlockCondition: document.getElementById('unlockCondition').value,
                    mintNumber: parseInt(document.getElementById('mintNumber').value) || null,
                    totalMinted: parseInt(document.getElementById('totalMinted').value) || null,
                    releaseDate: document.getElementById('releaseDate').value,
                    editionType: document.getElementById('editionType').value,

                    // Attributes & Traits
                    condition: document.getElementById('condition').value,
                    gradingService: document.getElementById('gradingService').value,
                    gradeScore: document.getElementById('gradeScore').value,
                    certificateNumber: document.getElementById('certificateNumber').value,
                    customAttributes: document.getElementById('customAttributes').value,

                    // Ownership & License
                    licenseType: document.getElementById('licenseType').value,
                    commercialRights: document.getElementById('commercialRights').value,
                    originalOwner: document.getElementById('originalOwner').value,
                    currentOwner: document.getElementById('currentOwner').value,

                    // Provenance
                    blockchainHash: document.getElementById('blockchainHash').value,
                    contractAddress: document.getElementById('contractAddress').value,
                    tokenId: document.getElementById('tokenId').value,
                    provenanceNotes: document.getElementById('provenanceNotes').value,

                    // Certification
                    certified: document.getElementById('certifiedToggle').classList.contains('active'),
                    artistVerified: document.getElementById('verifiedToggle').classList.contains('active'),
                    limitedEditionBadge: document.getElementById('limitedToggle').classList.contains('active'),
                    exclusiveRelease: document.getElementById('exclusiveToggle').classList.contains('active'),
                    certAuthority: document.getElementById('certAuthority').value,
                    certDate: document.getElementById('certDate').value,

                    // Holographic Effects
                    holographicEnabled: document.getElementById('holoToggle').classList.contains('active'),
                    holographicIntensity: parseFloat(document.getElementById('holoIntensity').value),
                    holographicPattern: document.getElementById('holoPattern').value,
                    holographicSpeed: parseFloat(document.getElementById('holoSpeed').value),
                    holographicAngle: parseFloat(document.getElementById('holoAngle').value),
                    holographicShift: parseFloat(document.getElementById('holoShift').value),
                    holographicPrimaryColor: document.getElementById('holoPrimaryColor').value,
                    holographicSecondaryColor: document.getElementById('holoSecondaryColor').value,
                    holographicLayered: document.getElementById('holoLayeredToggle').classList.contains('active'),
                    holographicBlendMode: document.getElementById('holoBlendMode').value,

                    // Visual Effects
                    glowEffect: document.getElementById('glowToggle').classList.contains('active'),
                    glowColor: document.getElementById('glowColor').value,
                    glowIntensity: parseFloat(document.getElementById('glowIntensity').value),

                    particleEffect: document.getElementById('particleToggle').classList.contains('active'),
                    particleType: document.getElementById('particleType').value,
                    particleColor: document.getElementById('particleColor').value,
                    particleCount: parseInt(document.getElementById('particleCount').value),

                    borderEffect: document.getElementById('borderToggle').classList.contains('active'),
                    borderStyle: document.getElementById('borderStyle').value,
                    borderColor: document.getElementById('borderColor').value,

                    shadowEffect: document.getElementById('shadowToggle').classList.contains('active'),
                    shadowColor: document.getElementById('shadowColor').value,
                    shadowBlur: parseInt(document.getElementById('shadowBlur').value),

                    blurEffect: document.getElementById('blurToggle').classList.contains('active'),
                    blurIntensity: parseInt(document.getElementById('blurIntensity').value),
                    blurDirection: document.getElementById('blurDirection').value,

                    chromaticEffect: document.getElementById('chromaticToggle').classList.contains('active'),
                    chromaticOffset: parseInt(document.getElementById('chromaticOffset').value),

                    vignetteEffect: document.getElementById('vignetteToggle').classList.contains('active'),
                    vignetteStrength: parseFloat(document.getElementById('vignetteStrength').value),
                    vignetteSize: parseFloat(document.getElementById('vignetteSize').value),

                    scanlinesEffect: document.getElementById('scanlinesToggle').classList.contains('active'),
                    scanlinesDensity: parseInt(document.getElementById('scanlinesDensity').value),
                    scanlinesOpacity: parseFloat(document.getElementById('scanlinesOpacity').value),

                    bloomEffect: document.getElementById('bloomToggle').classList.contains('active'),
                    bloomThreshold: parseFloat(document.getElementById('bloomThreshold').value),
                    bloomIntensity: parseFloat(document.getElementById('bloomIntensity').value),

                    // Color Grading
                    brightness: parseFloat(document.getElementById('brightness').value),
                    contrast: parseFloat(document.getElementById('contrast').value),
                    saturation: parseFloat(document.getElementById('saturation').value),
                    hueShift: parseFloat(document.getElementById('hueShift').value),
                    tintColor: document.getElementById('tintColor').value,
                    tintStrength: parseFloat(document.getElementById('tintStrength').value),

                    // Animation
                    rotationSpeed: parseFloat(document.getElementById('rotationSpeed').value),
                    floatAnimation: document.getElementById('floatToggle').classList.contains('active'),
                    floatRange: parseFloat(document.getElementById('floatRange').value),
                    pulseAnimation: document.getElementById('pulseToggle').classList.contains('active'),
                    pulseSpeed: parseFloat(document.getElementById('pulseSpeed').value),
                    bounceAnimation: document.getElementById('bounceToggle').classList.contains('active'),
                    spinAnimation: document.getElementById('spinToggle').classList.contains('active'),
                    spinDuration: parseFloat(document.getElementById('spinDuration').value),
                    wobbleAnimation: document.getElementById('wobbleToggle').classList.contains('active'),
                    wobbleIntensity: parseFloat(document.getElementById('wobbleIntensity').value),
                    flipAnimation: document.getElementById('flipToggle').classList.contains('active'),
                    shakeAnimation: document.getElementById('shakeToggle').classList.contains('active'),
                    swingAnimation: document.getElementById('swingToggle').classList.contains('active'),
                    animationEasing: document.getElementById('animationEasing').value,

                    // Lighting
                    ambientLight: parseFloat(document.getElementById('ambientLight').value),
                    directionalLight: parseFloat(document.getElementById('directionalLight').value),
                    specularLight: parseFloat(document.getElementById('specularLight').value),

                    // Rendering & Performance
                    renderQuality: document.getElementById('renderQuality').value,
                    textureResolution: document.getElementById('textureResolution').value,
                    antiAliasing: document.getElementById('antiAliasing').value,
                    shadowQuality: document.getElementById('shadowQuality').value,
                    maxFps: document.getElementById('maxFps').value,
                    vsync: document.getElementById('vsync').value,

                    // Export & Compression
                    imageCompression: document.getElementById('imageCompression').value,
                    exportFormat: document.getElementById('exportFormat').value,
                    metadataEmbed: document.getElementById('metadataEmbed').value,
                    assetOptimization: document.getElementById('assetOptimization').value,
                    embedAssets: document.getElementById('embedAssetsToggle').classList.contains('active'),
                    generateThumbnail: document.getElementById('generateThumbnailToggle').classList.contains('active'),
                    includeMetadata: document.getElementById('includeMetadataToggle').classList.contains('active'),
                    watermark: document.getElementById('watermarkToggle').classList.contains('active'),

                    // Advanced Features
                    debugMode: document.getElementById('debugModeToggle').classList.contains('active'),
                    performanceMonitor: document.getElementById('performanceMonitorToggle').classList.contains('active'),
                    autoSave: document.getElementById('autoSaveToggle').classList.contains('active'),
                    versionControl: document.getElementById('versionControlToggle').classList.contains('active'),

                    badges: selectedBadges
                };

                // Convert assets
                options.cardFront = await dcard.imageToAsset(frontFile);
                
                const backFile = document.getElementById('cardBack').files[0];
                if (backFile) options.cardBack = await dcard.imageToAsset(backFile);
                
                const holoFile = document.getElementById('holographicPattern').files[0];
                if (holoFile) options.holographicPattern = await dcard.imageToAsset(holoFile);
                
                const specialtyFile = document.getElementById('specialtyOverlay').files[0];
                if (specialtyFile) options.specialtyOverlay = await dcard.imageToAsset(specialtyFile);
                
                const brandLogoFile = document.getElementById('brandLogo').files[0];
                if (brandLogoFile) options.brandLogoAsset = await dcard.imageToAsset(brandLogoFile);
                
                const setLogoFile = document.getElementById('setLogo').files[0];
                if (setLogoFile) options.setLogoAsset = await dcard.imageToAsset(setLogoFile);
                
                const audioFile = document.getElementById('audioTheme').files[0];
                if (audioFile) {
                    options.audioTheme = await dcard.audioToAsset(audioFile);

                    // Include audio settings
                    options.audioVolume = parseInt(document.getElementById('audioVolume').value);
                    options.audioFadeIn = parseFloat(document.getElementById('audioFadeIn').value);
                    options.audioFadeOut = parseFloat(document.getElementById('audioFadeOut').value);
                    options.audioStartTime = parseFloat(document.getElementById('audioStartTime').value);
                    options.audioLoop = document.getElementById('audioLoopToggle').classList.contains('active');
                    options.audioAutoplay = document.getElementById('audioAutoplayToggle').classList.contains('active');
                    options.audioInstructions = document.getElementById('audioInstructions').value;
                }

                // Create thumbnail
                options.thumbnail = await dcard.createThumbnail(frontFile);

                // Create card
                const card = await dcard.create(options);
                
                // Show stats
                const stats = dcard.getStats(card);
                document.getElementById('statsGrid').innerHTML = `
                    <div class="stat-item">
                        <div class="stat-value">üì¶</div>
                        <div class="stat-label">${stats.fileSizeFormatted}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${stats.assetCount}</div>
                        <div class="stat-label">Assets</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${stats.badgeCount}</div>
                        <div class="stat-label">Badges</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${stats.isReward ? 'üéÅ' : 'üÉè'}</div>
                        <div class="stat-label">${stats.isReward ? 'Reward' : 'Standard'}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">‚úÖ</div>
                        <div class="stat-label">Verified</div>
                    </div>
                `;
                document.getElementById('statsPanel').style.display = 'block';

                // Export with assets
                await dcard.exportWithAssets(card);

                // Success message
                const folderName = `${cardName.replace(/\s+/g, '-').toLowerCase()}-${card.fingerprint.substring(0, 8)}`;
                document.getElementById('successMessage').innerHTML = `
                    <div class="success-message">
                        ‚ú® Card Created Successfully! ‚ú®<br>
                        <strong>${folderName}.zip</strong> has been downloaded<br>
                        <small>Contains card file and all assets</small>
                    </div>
                `;

                setTimeout(() => {
                    document.getElementById('successMessage').innerHTML = '';
                }, 5000);

            } catch (error) {
                alert('Error creating card: ' + error.message);
                console.error(error);
            }
        }

        // Load card
        function loadCard() {
            document.getElementById('loadFile').click();
        }

        document.getElementById('loadFile').addEventListener('change', async (e) => {
            if (e.target.files[0]) {
                try {
                    const card = await dcard.load(e.target.files[0]);
                    
                    // Populate metadata
                    document.getElementById('cardName').value = card.metadata.name;
                    document.getElementById('caption').value = card.metadata.caption || '';
                    document.getElementById('brand').value = card.metadata.brand;
                    document.getElementById('setName').value = card.metadata.set;
                    document.getElementById('cardNumber').value = card.metadata.cardNumber;
                    document.getElementById('totalInSet').value = card.metadata.totalInSet;
                    document.getElementById('category').value = card.metadata.category;
                    document.getElementById('rarity').value = card.metadata.rarity;
                    document.getElementById('cardType').value = card.metadata.type;
                    document.getElementById('description').value = card.metadata.description;
                    document.getElementById('flavorText').value = card.metadata.flavorText;
                    document.getElementById('tags').value = card.metadata.tags.join(', ');
                    document.getElementById('artist').value = card.metadata.artist;
                    document.getElementById('creator').value = card.signature.creator;
                    document.getElementById('network').value = card.signature.network;
                    
                    // Collectible
                    if (card.metadata.collectible.isReward) {
                        document.getElementById('rewardToggle').classList.add('active');
                        document.getElementById('rewardControls').style.display = 'block';
                        document.getElementById('rewardFor').value = card.metadata.collectible.rewardFor;
                        document.getElementById('unlockCondition').value = card.metadata.collectible.unlockCondition;
                    }
                    
                    if (card.metadata.collectible.mintNumber) {
                        document.getElementById('mintNumber').value = card.metadata.collectible.mintNumber;
                        document.getElementById('totalMinted').value = card.metadata.collectible.totalMinted;
                        updateSerialPreview();
                    }
                    
                    // Badges
                    selectedBadges = card.display.badges || [];
                    updateBadgeList();
                    
                    // Effects and settings
                    document.getElementById('holoIntensity').value = card.display.holographic.intensity;
                    document.getElementById('holoPattern').value = card.display.holographic.pattern;
                    document.getElementById('holoSpeed').value = card.display.holographic.speed;
                    
                    if (card.display.effects.glow) {
                        document.getElementById('glowToggle').classList.add('active');
                        document.getElementById('glowControls').style.display = 'block';
                    }
                    
                    // Update all range values
                    document.querySelectorAll('input[type="range"]').forEach(input => {
                        input.dispatchEvent(new Event('input'));
                    });

                    updateViewerText();
                    applyViewerState();

                    // Show stats
                    const stats = dcard.getStats(card);
                    document.getElementById('statsGrid').innerHTML = `
                        <div class="stat-item">
                            <div class="stat-value">üì¶</div>
                            <div class="stat-label">${stats.fileSizeFormatted}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${stats.assetCount}</div>
                            <div class="stat-label">Assets</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${stats.badgeCount}</div>
                            <div class="stat-label">Badges</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${stats.verified ? '‚úÖ' : '‚ùå'}</div>
                            <div class="stat-label">${stats.verified ? 'Verified' : 'Unverified'}</div>
                        </div>
                    `;
                    document.getElementById('statsPanel').style.display = 'block';

                    alert('‚ú® Card loaded successfully!');
                } catch (error) {
                    alert('Error loading card: ' + error.message);
                    console.error(error);
                }
            }
        });

        // Reset form
        function resetForm() {
            if (confirm('Reset all fields? This cannot be undone.')) {
                location.reload();
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initCardViewer();
            initBadgeGrid();

            // Setup file uploads
            setupFileUpload('cardFront', 'frontPreview', 'frontUpload', (src) => updateCardViewerFace('front', src));
            setupFileUpload('cardBack', 'backPreview', 'backUpload', (src) => updateCardViewerFace('back', src));
            setupFileUpload('holographicPattern', 'holoPreview', 'holoUpload', (src) => updateViewerOverlay('holo', src));
            setupFileUpload('specialtyOverlay', 'specialtyPreview', 'specialtyUpload', (src) => updateViewerOverlay('specialty', src));
            setupFileUpload('brandLogo', 'brandLogoPreview', 'brandLogoUpload', (src) => updateViewerBranding('brand', src));
            setupFileUpload('setLogo', 'setLogoPreview', 'setLogoUpload', (src) => updateViewerBranding('set', src));
            
            // Setup range inputs
            setupRangeInput('glowIntensity', 'glowIntensityValue');
            setupRangeInput('particleCount', 'particleCountValue');
            setupRangeInput('shadowBlur', 'shadowBlurValue');
            setupRangeInput('holoIntensity', 'holoIntensityValue');
            setupRangeInput('holoSpeed', 'holoSpeedValue');
            setupRangeInput('holoAngle', 'holoAngleValue');
            setupRangeInput('holoShift', 'holoShiftValue');
            setupRangeInput('rotationSpeed', 'rotSpeedValue');
            setupRangeInput('floatRange', 'floatRangeValue');
            setupRangeInput('pulseSpeed', 'pulseSpeedValue');
            setupRangeInput('ambientLight', 'ambientValue');
            setupRangeInput('directionalLight', 'directionalValue');
            setupRangeInput('specularLight', 'specularValue');

            // New visual effects range inputs
            setupRangeInput('blurIntensity', 'blurIntensityValue');
            setupRangeInput('chromaticOffset', 'chromaticOffsetValue');
            setupRangeInput('vignetteStrength', 'vignetteStrengthValue');
            setupRangeInput('vignetteSize', 'vignetteSizeValue');
            setupRangeInput('scanlinesDensity', 'scanlinesDensityValue');
            setupRangeInput('scanlinesOpacity', 'scanlinesOpacityValue');
            setupRangeInput('bloomThreshold', 'bloomThresholdValue');
            setupRangeInput('bloomIntensity', 'bloomIntensityValue');

            // Color grading range inputs
            setupRangeInput('brightness', 'brightnessValue');
            setupRangeInput('contrast', 'contrastValue');
            setupRangeInput('saturation', 'saturationValue');
            setupRangeInput('hueShift', 'hueShiftValue');
            setupRangeInput('tintStrength', 'tintStrengthValue');

            // Animation range inputs
            setupRangeInput('spinDuration', 'spinDurationValue');
            setupRangeInput('wobbleIntensity', 'wobbleIntensityValue');

            // Audio settings range inputs with custom formatters
            const audioVolume = document.getElementById('audioVolume');
            const audioVolumeValue = document.getElementById('audioVolumeValue');
            if (audioVolume && audioVolumeValue) {
                audioVolume.addEventListener('input', () => {
                    audioVolumeValue.textContent = audioVolume.value + '%';
                });
            }

            const audioFadeIn = document.getElementById('audioFadeIn');
            const audioFadeInValue = document.getElementById('audioFadeInValue');
            if (audioFadeIn && audioFadeInValue) {
                audioFadeIn.addEventListener('input', () => {
                    audioFadeInValue.textContent = audioFadeIn.value + 's';
                });
            }

            const audioFadeOut = document.getElementById('audioFadeOut');
            const audioFadeOutValue = document.getElementById('audioFadeOutValue');
            if (audioFadeOut && audioFadeOutValue) {
                audioFadeOut.addEventListener('input', () => {
                    audioFadeOutValue.textContent = audioFadeOut.value + 's';
                });
            }

            const audioStartTime = document.getElementById('audioStartTime');
            const audioStartTimeValue = document.getElementById('audioStartTimeValue');
            if (audioStartTime && audioStartTimeValue) {
                audioStartTime.addEventListener('input', () => {
                    audioStartTimeValue.textContent = audioStartTime.value + 's';
                });
            }
        });

        // Preview Card Function
        function previewCard() {
            const cardName = document.getElementById('cardName').value;
            if (!cardName) {
                alert('Please enter a card name first!');
                return;
            }

            const frontFile = document.getElementById('cardFront').files[0];
            if (!frontFile) {
                alert('Please upload a front card image first!');
                return;
            }

            // Get card details
            const rarity = document.getElementById('rarity').value;
            const cardType = document.getElementById('cardType').value;
            const category = document.getElementById('category').value;
            const brand = document.getElementById('brand').value;
            const set = document.getElementById('setName').value;
            const cardNumber = document.getElementById('cardNumber').value || '1';
            const totalInSet = document.getElementById('totalInSet').value || '1';
            const artist = document.getElementById('artist').value;
            const description = document.getElementById('description').value;

            // Display preview image
            const reader = new FileReader();
            reader.onload = (e) => {
                document.getElementById('previewImage').src = e.target.result;
            };
            reader.readAsDataURL(frontFile);

            // Populate preview details
            const previewDetails = document.getElementById('previewDetails');
            previewDetails.innerHTML = `
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Card Name</div>
                    <div class="preview-detail-value">${cardName}</div>
                </div>
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Rarity</div>
                    <div class="preview-detail-value">
                        <span class="rarity-badge rarity-${rarity}">${rarity.toUpperCase()}</span>
                    </div>
                </div>
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Type</div>
                    <div class="preview-detail-value">${cardType}</div>
                </div>
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Category</div>
                    <div class="preview-detail-value">${category}</div>
                </div>
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Brand</div>
                    <div class="preview-detail-value">${brand}</div>
                </div>
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Set</div>
                    <div class="preview-detail-value">${set}</div>
                </div>
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Number</div>
                    <div class="preview-detail-value">${cardNumber} / ${totalInSet}</div>
                </div>
                <div class="preview-detail-item">
                    <div class="preview-detail-label">Artist</div>
                    <div class="preview-detail-value">${artist}</div>
                </div>
                ${description ? `
                <div class="preview-detail-item" style="grid-column: 1 / -1;">
                    <div class="preview-detail-label">Description</div>
                    <div class="preview-detail-value" style="font-size: 1em; line-height: 1.5;">${description}</div>
                </div>
                ` : ''}
            `;

            // Show modal
            document.getElementById('previewModal').style.display = 'block';
        }

        // Close preview modal
        function closePreview() {
            document.getElementById('previewModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('previewModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        };
    </script>
</body>
</html>
